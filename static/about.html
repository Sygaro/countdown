<!-- static/about.html -->
<!doctype html>
<html lang="no">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Countdown · Om</title>
    <link rel="stylesheet" href="/static/css/ui.css" />
    <link rel="stylesheet" href="/static/css/admin.css" />
    <link rel="stylesheet" href="/static/css/about.css" />

  </head>
  <body class="admin">
    <header>
  

      <h1>Om Countdown</h1>
      <nav>
        <a href="/">Visning</a>
        <a href="/admin">Admin</a>
        <a href="/diag">Diagnose</a>
        <a class="active" href="/about">Om</a>
      </nav>
    </header>

    <main class="grid grid-auto">
      <section class="card">
        <h2>Hva er dette?</h2>
        <p>Countdown er en liten, robust visningsapp for Raspberry Pi (kiosk) med fokus på enkel drift.</p>
        <ul>
          <li><strong>Modi:</strong> daglig tidspunkt, engangs-tidspunkt, varighet, <em>klokke</em></li>
          <li><strong>Tema:</strong> farger, meldinger, størrelser, bakgrunn (solid/gradient/bilde m/ tint)</li>
          <li><strong>Live-oppdatering:</strong> endringer i admin slår inn i visning uten refresh</li>
          <li><strong>Kiosk-vennlig:</strong> fullscreen-knapp auto-skjules i fullscreen</li>
          <li><strong>Konfig:</strong> lagres atomisk i <code>config.json</code></li>
        </ul>
      </section>

      <section class="card">
        <h2>Teknologi</h2>
        <dl class="kv">
          <dt>Backend</dt><dd>Flask (Gunicorn/WSGI), systemd-tjenester</dd>
          <dt>Frontend</dt><dd>Vanilla HTML/CSS/JS</dd>
          <dt>Plattform</dt><dd>RPi (WPE/Cog eller Chromium kiosk)</dd>
          <dt>Konfig</dt><dd><code>config.json</code> (atomisk skriving)</dd>
        </dl>
      </section>

      <section class="card">
        <h2>Status & versjon</h2>
        <p id="about_error" class="fail" style="display:none"></p>
        <div id="about_status" style="display:none">
          <dl class="kv">
            <dt>Version</dt><dd><span id="v_version">—</span></dd>
            <dt>Commit</dt><dd><code id="v_commit">—</code></dd>
            <dt>OS</dt><dd><span id="v_os">—</span></dd>
            <dt>Kernel</dt><dd><span id="v_kernel">—</span></dd>
            <dt>Arkitektur</dt><dd><span id="v_arch">—</span></dd>
            <dt>Maskin</dt><dd><span id="v_model">—</span></dd>
            <dt>Server-tid</dt><dd><span id="v_server_time">—</span></dd>
          </dl>

          <h3>Tjenester</h3>
          <div class="services" id="v_services_wrap">
            <!-- Fylles av JS -->
          </div>
        </div>
      </section>

      <section class="card">
        <h2>Endepunkter</h2>
        <ul>
          <li><code>GET /</code> visning · <code>/admin</code> · <code>/diag</code> · <code>/about</code></li>
          <li><code>GET /api/config</code> → <em>{ ok, config, tick }</em></li>
          <li><code>POST /api/config</code> → lagre/patch konfig (inkl. bytte modus)</li>
          <li><code>POST /api/start-duration</code> → <em>{"minutes": N}</em></li>
          <li><code>GET /tick</code> → status (for visning/diagnose)</li>
          <li><code>GET /health</code> → 200 OK</li>
          <li><code>GET /api/sys/about-status</code> → metadata/status (krever admin-passord)</li>
        </ul>
      </section>
    </main>

    <script type="module" src="/static/js/about.js"></script>
    <script type="module" src="/static/js/statusbar.js"></script>

  </body>
</html>
