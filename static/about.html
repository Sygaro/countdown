<!-- static/about.html -->
<!doctype html>
<html lang="no">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Countdown · Om</title>
<link rel="stylesheet" href="/static/css/ui.css" />
    <link rel="stylesheet" href="/static/css/admin.css" />
    <style>
      .kv {
        display: grid;
        grid-template-columns: max-content 1fr;
        gap: 0.25rem 1rem;
      }
      .kv dt {
        color: #9aa4b2;
      }
      code {
        background: #111826;
        padding: 0.1rem 0.4rem;
        border-radius: 0.35rem;
      }
    </style>
  </head>
  <body class="admin">
    <header>
      <h1>Om Countdown</h1>
      <nav>
        <a href="/">Visning</a>
        <a href="/admin">Admin</a>
        <a href="/diag">Diagnose</a>
        <a class="active" href="/about">Om</a>
      </nav>
    </header>

    <main class="grid">
      <section class="card">
        <h2>Hva er dette?</h2>
        <p>Countdown er en liten, robust visningsapp for Raspberry Pi (kiosk) med fokus på enkel drift.</p>
        <ul>
          <li><strong>Modi:</strong> daglig tidspunkt, engangs-tidspunkt, varighet, <em>klokke</em></li>
          <li><strong>Tema:</strong> farger, meldinger, størrelser, bakgrunn (solid/gradient/bilde m/ tint)</li>
          <li><strong>Live-oppdatering:</strong> endringer i admin slår inn i visning uten refresh</li>
          <li><strong>Kiosk-vennlig:</strong> fullscreen-knapp auto-skjules i fullscreen</li>
          <li><strong>Konfig:</strong> lagres atomisk i <code>config.json</code></li>
        </ul>
      </section>

      <section class="card">
        <h2>Teknologi</h2>
        <dl class="kv">
          <dt>Backend</dt>
          <dd>Flask (Gunicorn/Wsgi), systemd bruker-tjeneste</dd>
          <dt>Frontend</dt>
          <dd>Vanilla HTML/CSS/JS</dd>
          <dt>Plattform</dt>
          <dd>RPi (WPE/Cog el. Chromium kiosk)</dd>
          <dt>Konfig</dt>
          <dd><code>config.json</code> (atomisk skriving)</dd>
        </dl>
      </section>

      <section class="card">
        <h2>Endepunkter</h2>
        <ul>
          <li>
            <code>GET /</code> visning · <code>/admin</code> · <code>/diag</code> ·
            <code>/about</code>
          </li>
          <li><code>GET /api/config</code> → <em>{ ok, config, tick }</em></li>
          <li><code>POST /api/config</code> → lagre/patch konfig (inkl. bytte modus)</li>
          <li><code>POST /api/start-duration</code> → <em>{"minutes": N}</em></li>
          <li><code>GET /tick</code> → status (for visning/diagnose)</li>
          <li><code>GET /health</code> → 200 OK</li>
        </ul>
      </section>

      <section class="card">
        <h2>Konfig (utdrag)</h2>
        <pre class="mono" style="white-space: pre; overflow: auto">
{
  "mode": "daily|once|duration|clock",
  "daily_time": "HH:MM",
  "once_at": "YYYY-MM-DDTHH:MM(+TZ)",
  "duration_minutes": 10,
  "clock": {
    "with_seconds": false,
    "color": "#e6edf3",
    "size_vmin": 12,
    "position": "center|top-left|top-center|top-right|
    bottom-left|bottom-center|bottom-right",
    "messages_position": "right|left|above|below",
    "messages_align": "start|center|end",
    "use_clock_messages": false,
    "message_primary": "",
    "message_secondary": ""
  },
  "theme": {
    "digits":   { "size_vw": 14 },
    "messages": {
      "primary":   { "size_rem": 1.0, "weight": 600, "color": "#9aa4b2" },
      "secondary": { "size_rem": 1.0, "weight": 400, "color": "#9aa4b2" }
    },
    "background": {
      "mode": "solid|gradient|image",
      "solid":    { "color": "#0b0f14" },
      "gradient": { "from": "#142033", "to": "#0b0f14", "angle_deg": 180 },
      "image":    {
        "url": "", "fit": "cover|contain", "opacity": 1,
        "tint": { "color": "#000000", "opacity": 0.0 }
      }
    }
  }
}
      </pre
        >
      </section>
    </main>
  </body>
</html>
