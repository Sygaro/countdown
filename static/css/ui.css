/* static/css/ui.css */
:root {
  --bg: #140b0e;
  --panel: #251219;
  --muted: #9aa4b2;
  --text: #e6edf3;
  --accent: #6aa9ff;
  --good: #69db7c;
  --bad: #ff6b6b;
  --border: #1f2633;
  --radius: 16px;
  --gap: 16px;
  --shadow: 0 8px 24px rgba(0, 0, 0, 0.25);
}
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font: 16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;
  color: var(--text);
  background: radial-gradient(1200px 600px at 10% -10%, #142033 0, #0b0f14 60%);
}

/* === Dynamisk bakgrunn ============================= */
:root{
  --bgdyn-from:#16233a; --bgdyn-to:#0e1a30; --bgdyn-opacity:.9; --bgdyn-blur:18px; --bgdyn-rotate-s:60;
}
body.bg-dyn::before{
  content:""; position:fixed; inset:-15%; z-index:-1;
  background:
    radial-gradient(1200px 700px at 10% -10%, var(--bgdyn-from) 0%, transparent 60%),
    radial-gradient(900px 600px at 110% 5%, var(--bgdyn-to) 0%, transparent 65%),
    conic-gradient(from 220deg at 50% 50%, #0b0f14 0%, #0e1420 25%, #0b0f14 50%, #101a2a 75%, #0b0f14 100%);
  filter: blur(var(--bgdyn-blur)); opacity: var(--bgdyn-opacity);
  will-change: transform; animation: bg-rotate var(--bgdyn-rotate-s) s linear infinite; pointer-events:none;
}
@keyframes bg-rotate { 0%{transform:rotate(0deg) scale(1.02)} 100%{transform:rotate(360deg) scale(1.02)} }

header{ display:flex; flex-wrap:wrap; align-items:center; gap:12px; padding:16px 20px; border-bottom:1px solid var(--border); }
h1{ font-size:20px; margin:0; }
nav a{ color:var(--muted); text-decoration:none; margin-right:12px; }
nav a.active, nav a:hover{ color:var(--text); }
.card{
  background: linear-gradient(180deg, rgba(18,24,37,.9), rgba(12,16,24,.9));
  border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow);
  padding:16px; margin:16px;
}
.hint{ color:var(--muted); font-size:.9rem; margin:.25rem 0; }
.muted{ color:var(--muted); }
button, input, textarea, select{
  background:#0e1420; color:var(--text); border:1px solid var(--border); border-radius:10px; padding:8px 10px;
}
button{ cursor:pointer; }
button.primary{ background:var(--accent); border-color:transparent; color:#0b0f14; }
button:disabled{ opacity:.6; cursor:not-allowed; }
label{ display:inline-flex; align-items:center; gap:8px; margin:.25rem .5rem .25rem 0; }
textarea{ width:100%; }
pre{ background:#0b0f14; border:1px solid var(--border); padding:12px; border-radius:10px; overflow:auto; }
.grid{ display:grid; gap:16px; grid-template-columns:1fr; }
@media (min-width:960px){ .grid{ grid-template-columns:1fr 1fr; } }
.big{ font-size:14vw; line-height:1.05; font-weight:800; letter-spacing:.06em; }
.center{ display:flex; align-items:center; justify-content:center; }
.fill{ position:fixed; inset:0; }
.screen{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; padding:4vh; text-align:center; }
.screen .text{ max-width:100ch; word-wrap:break-word; }
.screen img{ max-width:100%; max-height:100%; }

/* Blinking digits */
@keyframes flash{0%,25%,50%,75%,100%{opacity:1}25%,75%{opacity:.2}}
.big.blink,.pv-digits.blink{ animation: flash .8s steps(1) infinite; }

/* Fullscreen-knapp i visning */
.fs-btn{ position:fixed; top:10px; right:10px; background:#0e1420; border:1px solid var(--border); padding:8px 10px; border-radius:8px; opacity:.6; z-index:1000; }
.fs-btn:hover{ opacity:1; }
input[type="time"]::-webkit-calendar-picker-indicator,
input[type="datetime-local"]::-webkit-calendar-picker-indicator{ filter:invert(1) brightness(1.2); opacity:.9; }
input[type="time"], input[type="datetime-local"]{ color:var(--text); background:#0e1420; border:1px solid var(--border); }

/* Forhåndsvisning */
.preview{ background:#0b0f14; border:1px solid var(--border); border-radius:12px; padding:14px; min-height:200px; display:flex; align-items:center; justify-content:center; }
.pv-box{ width:100%; max-width:800px; aspect-ratio:16/8; border:1px solid var(--border); border-radius:10px; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:10px; padding:10px; }
.pv-digits{ font-weight:800; letter-spacing:.06em; font-size:clamp(4vw,8vw,10vw); }

/* fullscreen toggle visibility */
.is-fullscreen #btn_fullscreen, .is-fullscreen .fs-toggle, .is-fullscreen .fullscreen-button{ display:none !important; }
.is-preview #btn_fullscreen{ display:none !important; }

/* Overlays */
.overlays{ position:fixed; inset:0; pointer-events:none; z-index:50; isolation:isolate; }
.overlays .overlay-wrap{ position:absolute; pointer-events:none; }
.overlays .overlay-img{ display:block; max-width:200vmin; max-height:200vmin; }
.overlays .overlay-tint{ position:absolute; inset:0; pointer-events:none; }
.overlay-tint{
  -webkit-mask-mode:alpha; mask-mode:alpha;
  -webkit-mask-repeat:no-repeat; mask-repeat:no-repeat;
  -webkit-mask-size:contain; mask-size:contain;
  -webkit-mask-position:center; mask-position:center;
  -webkit-mask-composite:source-over; mask-composite:add;
}

/* Responsive grid util */
.grid-auto{ display:grid; grid-template-columns:repeat(auto-fit, minmax(420px, 1fr)); gap:1.2rem; align-items:start; }
body.admin main.grid, body.admin main.grid-auto{ max-width:none; width:min(1800px, 96vw); margin-inline:auto; }
.card{ min-width:0; }

/* shared status dot */
.dot{ width:.6rem; height:.6rem; border-radius:50%; border:1px solid rgba(255,255,255,.24); display:inline-block; }
.dot.ok{ background:#16a34a; border-color:#166534; }
.dot.bad{ background:#dc2626; border-color:#7f1d1d; }
.dot.warn{ background:#f59e0b; border-color:#92400e; }

/* Picsum background layers (z-index fix) */
#bg-picsum-layer{
  position:fixed; inset:0; z-index:0; pointer-events:none; /* ← var -1; nå 0 for å ligge over body-bg */
  background-repeat:no-repeat; background-position:center center; background-size:cover;
  transition: background-image .25s ease, opacity .25s ease;
}
#bg-picsum-tint{
  position:fixed; inset:0; z-index:0; pointer-events:none; background-color:transparent;
  transition: background-color .25s ease, opacity .25s ease;
}
